{% extends 'home.html' %}
{% load static %}
{% block title %}
    Empeños
{% endblock title %}
{% block headerleft %}
    Empeños
{% endblock headerleft %}
{% block headerright %}
    Empeños
{% endblock headerright %}

{% block body %}
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title">Casa de empeños</h5>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                            <i class="fas fa-minus"></i>
                        </button>
                        <div class="btn-group">
                            <button type="button" class="btn btn-tool dropdown-toggle" data-toggle="dropdown">
                                <i class="fas fa-wrench"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right" role="menu">
                                <a href="#" class="dropdown-item">Exportar PDF</a>
                                <a href="#" class="dropdown-item">Exportar Excel</a>
                                <a class="dropdown-divider"></a>
                                <a href="#" class="dropdown-item">Operaciones</a>
                            </div>
                        </div>
                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <!-- /.card-header -->
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-2">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-address-card"></i></span>
                                </div>
                                <input type="text" class="form-control" placeholder="Documento" id="document"
                                       name="document">
                                <input type="hidden" class="form-control" id="provider" name="provider" value="">
                            </div>
                            <!-- /input-group -->
                        </div>
                        <!-- /.col-lg-4 -->
                        <div class="col-lg-8">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-user-alt"></i></span>
                                </div>
                                <input type="text" class="form-control" placeholder="Nombres Apellidos..." id="names"
                                       name="names">
                            </div>
                            <!-- /input-group -->
                        </div>
                        <!-- /.col-lg-4 -->
                        <div class="col-lg-2">
                            <div class="row">
                                <div class="col-lg-6 pb-1">
                                    <button type="button" class="btn btn-primary w-100" id="btn-cancel"
                                            onclick="CleanPawns()">
                                        Cancelar
                                    </button>
                                </div>
                                <div class="col-lg-6 pb-1">
                                    <button type="button" class="btn btn-success w-100" id="btn-save"
                                            onclick="CreatePawns()">
                                        Guardar
                                    </button>
                                </div>
                            </div>
                            <!-- /input-group -->
                        </div>
                        <!-- /.col-lg-4 -->
                    </div>
                    <div class="row">
                        <div class="col-lg-2">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-phone-volume"></i></span>
                                </div>
                                <input type="text" class="form-control" placeholder="Celular" id="phone" name="phone">
                            </div>
                            <!-- /input-group -->
                        </div>
                        <div class="col-lg-8">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-house-damage"></i></span>
                                </div>
                                <input type="text" class="form-control" placeholder="Direccion de domicilio..."
                                       id="address" name="address">
                            </div>
                            <!-- /input-group -->
                        </div>
                        <!-- /.col-lg-4 -->
                        <div class="col-lg-2">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                </div>
                                <input type="date" class="form-control" placeholder="Fecha" value="{{ date }}"
                                       id="date_current" name="date_current">
                            </div>
                            <!-- /input-group -->
                        </div>
                        <!-- /.col-lg-4 -->
                    </div>
                </div>
                <!-- ./card-body -->
                {#                <div class="card-footer">#}
                {##}
                {#                </div>#}
                <!-- /.card-footer -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-lg-7 align-self-center pt-1 pb-1">
                            <div id="autocomplete-product" class="autocomplete text-primary">
                                <input class="form-control autocomplete-input" id="search-product"
                                       name="search-product"
                                       placeholder="Buscar producto"/>
                                <ul class="autocomplete-result-list"></ul>
                            </div>
                        </div>
                        <div class="col-lg-3 align-self-center pt-1 pb-1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                </div>
                                <input type="text" class="form-control" placeholder="Buscar orden..." id="order-search"
                                       name="order-search">
                                <input type="hidden" class="form-control" id="order" name="order" value="">
                            </div>
                        </div>
                        <div class="col-lg-2 align-self-center pt-1 pb-1">
                            <div class="row">
                                <div class="col-lg-12 p-1 text-center">
                                    <button type="button" class="btn btn-danger w-50" id="btn-pawns"
                                            onclick="ShowModalPawns()">
                                        Producto
                                    </button>
                                </div>
                                {#                                <div class="col-lg-6 p-1">#}
                                {#                                    <button type="button" class="btn btn-warning w-100" id="btn-provider"#}
                                {#                                            onclick="">#}
                                {#                                        Proveedor#}
                                {#                                    </button>#}
                                {#                                </div>#}
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.card-header -->
                <div class="card-body table-responsive">
                    <table class="table table-striped">
                        <thead>
                        <tr class="text-center text-warning text-uppercase" style="width: 100%">
                            <th style="width: 5%">Nº</th>
                            <th style="width: 10%">Cantidad</th>
                            <th style="width: 45%">Descripcion</th>
                            <th style="width: 10%">Medida</th>
                            <th style="width: 10%">Precio</th>
                            <th style="width: 10%">Importe</th>
                            <th style="width: 10%">Eliminar</th>
                        </tr>
                        </thead>
                        <tbody id="order_detail">

                        </tbody>
                    </table>
                </div>
                <!-- ./card-body -->
                <div class="card-footer">
                    <div class="row">
                        <div class="col-lg-9">
                            <div class="row">
                                <div class="col-sm-6 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label for="measures">Caja/Cuenta</label>
                                        <select class="form-control" id="account" name="account" pk="">
                                            <option value="">SELECCIONE</option>
                                            {% for a in account_set %}
                                                <option value="{{ a.id }}">{{ a.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-3 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label for="name">Monto Pagar</label>
                                        <input type="number" step="0.01" min="0.00" class="form-control text-right"
                                               id="amount"
                                               name="amount"
                                               placeholder="0.00" value="">
                                        <input type="hidden" value="{{ order_obj.id }}" id="order" name="order">
                                    </div>
                                </div>
                                <div class="col-sm-3 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label for="measures">Codigo</label>
                                        <input type="text" class="form-control" id="code" name="code"
                                               placeholder="Codigo ..." value="">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <label class="text-warning">TOTAL</label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <span class="input-group-text p-0"><span
                                            class="small bs-stepper-circle bg-primary m-0 ml-1 mr-1">S/.</span>
                                    </span>
                                </div>
                                <input type="text" class="form-control text-right font-weight-bold" disabled id="total"
                                       name="total" placeholder="0.00">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.card-footer -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
    <div class="modal fade" id="modal-pawns" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false"
         aria-labelledby="ModalHelpTitle"
         aria-hidden="true"></div>
{% endblock body %}

{% block extrajs %}
    <script type="text/javascript" src="{% static 'js/sales/PawnsList.js' %}"></script>
{% endblock extrajs %}
